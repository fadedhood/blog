.cyber-tooltip-container {
  position: relative !important;
  display: inline-block !important;
}

.cyber-tooltip {
  position: absolute !important;
  bottom: calc(100% + 8px) !important;
  left: 50% !important;
  transform: translate(-50%, 5px) !important;
  transform-origin: center bottom !important;
  padding: 8px 10px !important;
  background: #1a1a1a !important;
  border: 1px solid #2a2a2a !important;
  color: #ccc !important;
  font-family: 'JetBrains Mono', monospace !important;
  font-size: 0.75em !important;
  white-space: normal !important; /* Allow wrapping for full URL */
  pointer-events: none !important;
  opacity: 0 !important;
  visibility: hidden !important;
  transition: opacity 0.2s ease,
              transform 0.2s ease,
              visibility 0.2s ease !important;
  z-index: 1000 !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;
  border-radius: 4px !important;
  width: auto !important;
  max-width: min(280px, calc(100vw - 40px)) !important;
  min-width: 160px !important;
  word-break: break-word !important;
  will-change: transform, opacity !important;
}

/* Force tooltip content to use consistent font-size regardless of parent headings */
.cyber-tooltip,
.cyber-tooltip * {
  font-size: 0.75rem !important;
}

.cyber-tooltip::before {
  content: '' !important;
  position: absolute !important;
  bottom: -3px !important;
  left: 50% !important;
  transform: translateX(-50%) rotate(45deg) !important;
  width: 6px !important;
  height: 6px !important;
  background: #1a1a1a !important;
  border-right: 1px solid #333 !important;
  border-bottom: 1px solid #333 !important;
  z-index: -1 !important;
}

.cyber-tooltip-content {
  display: flex !important;
  flex-direction: column !important;
  gap: 4px !important; /* Reduced gap */
  flex-wrap: wrap !important;
}

.cyber-tooltip-url {
  position: relative !important;
  padding: 4px 6px !important; /* Increased padding */
  background: #141414 !important;
  border-radius: 3px !important;
  color: #999 !important;
  font-size: 0.85em !important; /* Increased font-size */
  line-height: 1.3 !important;
  word-break: break-all !important;
  border: 1px solid #222 !important;
  max-width: none !important;
  white-space: normal !important;
  overflow: visible !important;
}

.cyber-tooltip-url::before {
  content: 'URL' !important;
  position: absolute !important;
  top: -8px !important;
  left: 10px !important;
  background: #1a1a1a !important;
  padding: 0 6px !important;
  font-size: 0.7em !important;
  color: #666 !important;
  letter-spacing: 0.5px !important;
  opacity: 0.8 !important;
}

.cyber-tooltip-actions {
  display: flex !important;
  gap: 4px !important;
  justify-content: flex-end !important;
  margin-top: 2px !important;
}

.cyber-tooltip-copy,
.cyber-tooltip-visit {
  background: #242424 !important;
  border: 1px solid #333 !important;
  color: #ccc !important;
  padding: 4px 8px !important; /* Increased padding */
  font-size: 0.85em !important; /* Increased font-size */
  cursor: pointer !important;
  transition: all 0.15s ease !important;
  border-radius: 3px !important;
  display: inline-flex !important;
  align-items: center !important;
  gap: 4px !important;
  min-width: 65px !important; /* Increased min-width */
  justify-content: center !important;
}

.cyber-tooltip-copy:hover,
.cyber-tooltip-visit:hover {
  background: #2a2a2a !important;
  border-color: #555 !important;
}

.cyber-tooltip-copy.copied {
  background: #1a3320 !important;
  border-color: #2a5a2a !important;
  color: #98C379 !important;
}

/* Animation classes */
.cyber-tooltip.show {
  opacity: 1 !important;
  visibility: visible !important;
  transform: translate(-50%, 0) !important;
  pointer-events: auto !important;
}

.cyber-tooltip.show::before {
  animation: diamond-pulse 2s infinite !important;
}

/* Hover bridge to prevent tooltip from disappearing */
.cyber-tooltip::after {
  content: '' !important;
  position: absolute !important;
  left: 0 !important;
  right: 0 !important;
  bottom: -20px !important;
  height: 20px !important;
  background: transparent !important;
}

@keyframes diamond-pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(237, 41, 57, 0.4) !important;
  }
  70% {
    box-shadow: 0 0 0 6px rgba(237, 41, 57, 0) !important;
  }
  100% {
    box-shadow: 0 0 0 0 rgba(237, 41, 57, 0) !important;
  }
}

/* Mobile responsive adjustments */
@media (max-width: 768px) {
  .cyber-tooltip {
    /* Align tooltip with linkâ€™s left side */
    left: 0 !important;
    right: auto !important;
    transform: translate(0, 5px) !important;
    min-width: 140px !important;
    max-width: min(260px, calc(100vw - 20px)) !important;
    /* Optionally reduce transition for smoother appearance */
    transition: opacity 0.2s ease, transform 0.2s ease, visibility 0.2s ease !important;
  }
  
  .cyber-tooltip.show {
    transform: translate(0, 0) !important;
  }
  
  /* Remove edge detection on mobile */
  .cyber-tooltip.edge-left,
  .cyber-tooltip.edge-right {
    left: 0 !important;
    right: auto !important;
    transform: translate(0, 5px) !important;
  }
  
  .cyber-tooltip.show.edge-left,
  .cyber-tooltip.show.edge-right {
    transform: translate(0, 0) !important;
  }
}
